<?xml version="1.0" encoding="utf-8"?>
<s:BorderContainer xmlns:fx="http://ns.adobe.com/mxml/2009"
				   xmlns:s="library://ns.adobe.com/flex/spark"
				   xmlns:mx="library://ns.adobe.com/flex/mx"
				   xmlns:components="components.*"
				   xmlns:views="views.*"
				   xmlns:local="*"
				   backgroundAlpha="0" borderVisible="false">
	
	<fx:Metadata>
		[Event(name="navigation", type="events.NavEvent")]
		
	</fx:Metadata>
	
	<fx:Script>
		<![CDATA[
			import com.alfo.DelayedExecution;
			import com.alfo.XMLPrefs;
			import com.greensock.TweenLite;
			import com.utils.Console;
			
			import events.NavEvent;
			import events.QuizEvent;
			
			private var prefs:XMLPrefs = XMLPrefs.getInstance();
			protected var tempo:DelayedExecution
			public function start():void {
				
				tempo = new DelayedExecution(prefs.splashPause*10000,this,restart);
			}
			
			protected function restart():void
			{
				Console.log("Restarting", this);
				var navigation:NavEvent=new NavEvent(NavEvent.NAVIGATION,"home");
				dispatchEvent(navigation);
			}
			protected function submit(e:Event=null):void
			{
				tempo.cancel();
				dispatchEvent( new QuizEvent(QuizEvent.QUIZ_SAVE ) );
				restart();
			}
			
			protected function create(event:Event):void
			{
				TweenLite.to(countdownFrame, 2, {glowFilter:{color:0xFFFFFF, blurX:30, blurY:30, strength:2, alpha:0.5, knockout: true}});
			}
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>

	
	
	<s:VGroup  horizontalAlign="center" verticalAlign="middle" width="100%" height="100%">
		<local:SkyTextBox width="{textBlock.width+100}" height="{textBlock.height+100}" />
		
	</s:VGroup>
	<s:VGroup   horizontalAlign="center" verticalAlign="middle"  width="100%" height="100%">
		
		<local:SkyTextBoxGlow width="{textBlock.width+100}" height="{textBlock.height+100}" id="countdownFrame" creationComplete="create(event)" />
	</s:VGroup>
	<s:VGroup  horizontalAlign="center" verticalAlign="middle" width="100%" height="100%">
		<s:VGroup id="textBlock" horizontalAlign="center" verticalAlign="middle" paddingTop="50" paddingLeft="70" paddingRight="70" paddingBottom="15" >	
			
			<s:Label  text="YOU SCORED:" textAlign="center" fontWeight="bold" fontSize="70" color="#ffffff" />
			<s:Spacer height="10"/>
			<s:Label   id="time" color="#ffffff" fontSize="300" fontWeight="bold" text="00:00" />
		</s:VGroup>
		
	</s:VGroup>
	<s:VGroup  horizontalAlign="center" verticalAlign="middle" width="100%" height="100%">
		<s:Spacer width="{textBlock.width+100}" height="{textBlock.height+250}" />
		<s:Button label="SUBMIT" click="submit(event)"  skinClass="skins.buttons.SkyRightButton"/>
	</s:VGroup>
	

</s:BorderContainer>
